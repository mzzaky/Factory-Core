<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tax System - FactoryCore Wiki</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code&display=swap" rel="stylesheet">

    <style>
        * {
            box-sizing: border-box;
        }

        body {
            font-family: 'Outfit', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #0a0c10 0%, #111316 50%, #1a1d23 100%);
            color: #e4e6ea;
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background:
                radial-gradient(circle at 20% 20%, rgba(16, 185, 129, 0.08) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(4, 120, 87, 0.06) 0%, transparent 50%),
                radial-gradient(circle at 40% 60%, rgba(16, 185, 129, 0.04) 0%, transparent 50%);
            pointer-events: none;
            z-index: -1;
        }

        .particle {
            position: absolute;
            background: rgba(52, 211, 153, 0.4);
            border-radius: 50%;
            pointer-events: none;
            animation: float 20s infinite linear;
        }

        @keyframes float {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }

            10% {
                opacity: 1;
            }

            90% {
                opacity: 1;
            }

            100% {
                transform: translateY(-100px) rotate(360deg);
                opacity: 0;
            }
        }

        /* ‚îÄ‚îÄ Page Header ‚îÄ‚îÄ */
        .page-header {
            text-align: center;
            margin-bottom: 50px;
            padding: 40px 0;
            position: relative;
        }

        .page-header h1 {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 16px;
            background: linear-gradient(135deg, #10b981 0%, #047857 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            position: relative;
        }

        .page-header h1::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 3px;
            background: linear-gradient(135deg, #10b981 0%, #047857 100%);
            border-radius: 2px;
            box-shadow: 0 0 20px rgba(16, 185, 129, 0.5);
        }

        .page-header p {
            color: #9ca3af;
            font-size: 1.2rem;
            margin-top: 30px;
        }

        /* ‚îÄ‚îÄ Breadcrumb ‚îÄ‚îÄ */
        .breadcrumb {
            max-width: 1400px;
            margin: 0 auto 40px;
            display: flex;
            align-items: center;
            gap: 0;
            font-size: 13px;
            position: relative;
        }

        .breadcrumb-inner {
            display: flex;
            align-items: center;
            gap: 0;
            background: rgba(13, 17, 23, 0.85);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(52, 211, 153, 0.18);
            border-radius: 50px;
            padding: 6px 6px 6px 16px;
            box-shadow: 0 4px 24px rgba(0, 0, 0, 0.35), 0 0 0 1px rgba(52, 211, 153, 0.05), inset 0 1px 0 rgba(255, 255, 255, 0.04);
        }

        .breadcrumb-icon {
            width: 26px;
            height: 26px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #10b981;
            margin-right: 10px;
            opacity: 0.8;
        }

        .breadcrumb-icon svg {
            width: 15px;
            height: 15px;
        }

        .breadcrumb a {
            color: #6b7280;
            text-decoration: none;
            padding: 4px 8px;
            border-radius: 6px;
            transition: all 0.2s ease;
            font-weight: 500;
            letter-spacing: 0.2px;
        }

        .breadcrumb a:hover {
            color: #10b981;
            background: rgba(52, 211, 153, 0.08);
        }

        .breadcrumb-sep {
            color: rgba(255, 255, 255, 0.12);
            margin: 0 2px;
            font-size: 11px;
            display: flex;
            align-items: center;
        }

        .breadcrumb-sep svg {
            width: 12px;
            height: 12px;
        }

        .breadcrumb-current {
            display: flex;
            align-items: center;
            gap: 8px;
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.18) 0%, rgba(4, 120, 87, 0.12) 100%);
            border: 1px solid rgba(52, 211, 153, 0.3);
            border-radius: 50px;
            padding: 5px 14px 5px 10px;
            margin-left: 4px;
            color: #34d399;
            font-weight: 600;
            letter-spacing: 0.2px;
            box-shadow: 0 0 12px rgba(52, 211, 153, 0.12);
        }

        .breadcrumb-current-dot {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: #10b981;
            box-shadow: 0 0 8px rgba(52, 211, 153, 0.8);
            animation: bc-pulse 2s ease-in-out infinite;
            flex-shrink: 0;
        }

        @keyframes bc-pulse {

            0%,
            100% {
                box-shadow: 0 0 6px rgba(52, 211, 153, 0.8);
                opacity: 1;
            }

            50% {
                box-shadow: 0 0 14px rgba(52, 211, 153, 1);
                opacity: 0.7;
            }
        }

        /* ‚îÄ‚îÄ Layout ‚îÄ‚îÄ */
        .content-container {
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 280px 1fr;
            gap: 32px;
            align-items: start;
        }

        /* ‚îÄ‚îÄ Side Nav ‚îÄ‚îÄ */
        .side-nav {
            position: sticky;
            top: 20px;
            background: rgba(10, 14, 18, 0.92);
            backdrop-filter: blur(24px);
            border: 1px solid rgba(52, 211, 153, 0.14);
            border-radius: 22px;
            overflow: hidden;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(52, 211, 153, 0.05), 0 0 60px rgba(16, 185, 129, 0.04);
        }

        .nav-header {
            padding: 18px 20px 14px;
            border-bottom: 1px solid rgba(52, 211, 153, 0.1);
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.06) 0%, transparent 100%);
            position: relative;
            overflow: hidden;
        }

        .nav-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, transparent, #10b981 30%, #34d399 60%, transparent);
        }

        .nav-header-top {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 10px;
        }

        .nav-title {
            display: flex;
            align-items: center;
            gap: 8px;
            color: #e4e6ea;
            font-weight: 700;
            font-size: 0.78rem;
            text-transform: uppercase;
            letter-spacing: 1.5px;
        }

        .nav-title-icon {
            width: 20px;
            height: 20px;
            background: linear-gradient(135deg, #10b981, #047857);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            box-shadow: 0 2px 8px rgba(16, 185, 129, 0.4);
        }

        .nav-title-icon svg {
            width: 11px;
            height: 11px;
            stroke: #fff;
            fill: none;
            stroke-width: 2.5;
        }

        .nav-section-count {
            font-size: 11px;
            color: #6b7280;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.07);
            border-radius: 20px;
            padding: 2px 8px;
            font-weight: 500;
        }

        .nav-progress-track {
            height: 3px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 3px;
            overflow: hidden;
        }

        .nav-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #10b981, #34d399);
            border-radius: 3px;
            transition: width 0.3s ease;
            box-shadow: 0 0 8px rgba(52, 211, 153, 0.6);
            width: 0%;
        }

        .nav-list {
            list-style: none;
            padding: 10px 12px 12px;
            margin: 0;
            display: flex;
            flex-direction: column;
            gap: 2px;
        }

        .nav-list li {
            margin: 0;
        }

        .nav-list a {
            display: flex;
            align-items: center;
            gap: 11px;
            padding: 10px 12px;
            border-radius: 12px;
            color: #6b7280;
            text-decoration: none;
            transition: all 0.22s ease;
            font-size: 13.5px;
            font-weight: 500;
            position: relative;
            overflow: hidden;
            letter-spacing: 0.1px;
        }

        .nav-list a::after {
            content: '';
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%) scale(0);
            width: 5px;
            height: 5px;
            border-radius: 50%;
            background: #10b981;
            transition: transform 0.2s ease;
            box-shadow: 0 0 8px rgba(52, 211, 153, 0.8);
        }

        .nav-list a:hover::after,
        .nav-list a.active::after {
            transform: translateY(-50%) scale(1);
        }

        .nav-list a:hover {
            background: rgba(52, 211, 153, 0.07);
            color: #d1fae5;
        }

        .nav-list a.active {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.14) 0%, rgba(4, 120, 87, 0.1) 100%);
            color: #34d399;
            font-weight: 600;
            box-shadow: inset 0 0 0 1px rgba(52, 211, 153, 0.2);
        }

        .nav-icon {
            width: 30px;
            height: 30px;
            border-radius: 9px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            flex-shrink: 0;
            transition: all 0.22s ease;
            background: rgba(255, 255, 255, 0.04);
            border: 1px solid rgba(255, 255, 255, 0.06);
        }

        .nav-list a:hover .nav-icon {
            background: rgba(52, 211, 153, 0.1);
            border-color: rgba(52, 211, 153, 0.2);
        }

        .nav-list a.active .nav-icon {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.2), rgba(4, 120, 87, 0.2));
            border-color: rgba(52, 211, 153, 0.3);
            box-shadow: 0 0 12px rgba(52, 211, 153, 0.15);
        }

        .nav-label {
            flex: 1;
            min-width: 0;
        }

        .nav-footer {
            margin: 0 12px 12px;
            padding: 12px;
            background: rgba(52, 211, 153, 0.04);
            border: 1px solid rgba(52, 211, 153, 0.1);
            border-radius: 12px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .nav-footer-icon {
            font-size: 16px;
            flex-shrink: 0;
        }

        .nav-footer-text {
            font-size: 11.5px;
            color: #6b7280;
            line-height: 1.4;
        }

        .nav-footer-text strong {
            color: #34d399;
            display: block;
            font-size: 12px;
            margin-bottom: 1px;
        }

        /* ‚îÄ‚îÄ Main Content ‚îÄ‚îÄ */
        .main-content {
            background: rgba(255, 255, 255, 0.02);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(52, 211, 153, 0.1);
            border-radius: 24px;
            overflow: hidden;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4), 0 0 80px rgba(52, 211, 153, 0.05);
        }

        .content-section {
            padding: 36px;
            border-bottom: 1px solid rgba(52, 211, 153, 0.05);
            scroll-margin-top: 20px;
            position: relative;
        }

        .content-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(52, 211, 153, 0.3), transparent);
        }

        .content-section:last-child {
            border-bottom: none;
        }

        .section-title {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 24px;
            flex-wrap: wrap;
        }

        .section-title h2 {
            color: #10b981;
            font-size: 1.8rem;
            font-weight: 600;
            margin: 0;
            text-shadow: 0 0 20px rgba(52, 211, 153, 0.3);
        }

        .section-badge {
            display: inline-flex;
            align-items: center;
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            background: linear-gradient(135deg, rgba(52, 211, 153, 0.2) 0%, rgba(4, 120, 87, 0.2) 100%);
            color: #10b981;
            border: 1px solid rgba(52, 211, 153, 0.3);
            box-shadow: 0 4px 15px rgba(52, 211, 153, 0.1);
        }

        /* ‚îÄ‚îÄ Typography ‚îÄ‚îÄ */
        h3 {
            color: #34d399;
            font-size: 1.25rem;
            font-weight: 600;
            margin-top: 32px;
            margin-bottom: 14px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        h3::before {
            content: '';
            display: inline-block;
            width: 4px;
            height: 1.2em;
            background: linear-gradient(180deg, #10b981, #047857);
            border-radius: 2px;
            flex-shrink: 0;
        }

        h4 {
            color: #10b981;
            font-size: 1.05rem;
            font-weight: 600;
            margin-top: 20px;
            margin-bottom: 10px;
        }

        p {
            color: #d1d5db;
            line-height: 1.8;
            margin-bottom: 16px;
        }

        ul,
        ol {
            color: #d1d5db;
            margin-bottom: 20px;
            padding-left: 24px;
        }

        li {
            margin-bottom: 10px;
            line-height: 1.7;
        }

        li strong {
            color: #34d399;
            font-weight: 600;
        }

        /* ‚îÄ‚îÄ Code ‚îÄ‚îÄ */
        pre {
            background: #141618;
            border: 1px solid rgba(52, 211, 153, 0.15);
            border-left: 3px solid #10b981;
            border-radius: 12px;
            padding: 20px 24px;
            overflow-x: auto;
            margin: 20px 0;
            box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.4);
            font-family: 'Fira Code', 'Courier New', monospace;
        }

        code {
            font-family: 'Fira Code', 'Courier New', monospace;
            font-size: 13px;
            color: #9CDCFE;
        }

        p code,
        li code {
            background: rgba(52, 211, 153, 0.08);
            padding: 3px 8px;
            border-radius: 6px;
            color: #34d399;
            font-weight: 500;
            border: 1px solid rgba(52, 211, 153, 0.2);
        }

        /* ‚îÄ‚îÄ Info / Warning Boxes ‚îÄ‚îÄ */
        .info-box {
            background: linear-gradient(135deg, rgba(52, 211, 153, 0.07) 0%, rgba(4, 120, 87, 0.07) 100%);
            border: 1px solid rgba(52, 211, 153, 0.25);
            border-left: 4px solid #10b981;
            border-radius: 12px;
            padding: 18px 20px;
            margin: 24px 0;
        }

        .info-box-title {
            color: #10b981;
            font-weight: 600;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.95rem;
        }

        .info-box-content {
            color: #d1d5db;
            line-height: 1.7;
        }

        .warn-box {
            background: linear-gradient(135deg, rgba(251, 191, 36, 0.07) 0%, rgba(180, 83, 9, 0.07) 100%);
            border: 1px solid rgba(251, 191, 36, 0.25);
            border-left: 4px solid #f59e0b;
            border-radius: 12px;
            padding: 18px 20px;
            margin: 24px 0;
        }

        .warn-box .info-box-title {
            color: #f59e0b;
        }

        .warn-box .info-box-content {
            color: #d1d5db;
        }

        /* ‚îÄ‚îÄ Table ‚îÄ‚îÄ */
        .table-wrapper {
            margin: 24px 0;
            border-radius: 16px;
            overflow: hidden;
            border: 1px solid rgba(52, 211, 153, 0.12);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3), 0 0 0 1px rgba(52, 211, 153, 0.05);
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
            background: transparent;
        }

        .data-table thead {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.15) 0%, rgba(4, 120, 87, 0.15) 100%);
        }

        .data-table thead th {
            padding: 14px 20px;
            text-align: left;
            font-weight: 600;
            font-size: 11px;
            text-transform: uppercase;
            letter-spacing: 1.2px;
            color: #34d399;
            border-bottom: 1px solid rgba(52, 211, 153, 0.2);
            white-space: nowrap;
        }

        .data-table tbody tr {
            transition: background 0.2s ease;
            border-bottom: 1px solid rgba(255, 255, 255, 0.04);
        }

        .data-table tbody tr:last-child {
            border-bottom: none;
        }

        .data-table tbody tr:nth-child(even) {
            background: rgba(255, 255, 255, 0.015);
        }

        .data-table tbody tr:hover {
            background: rgba(52, 211, 153, 0.06);
        }

        .data-table tbody td {
            padding: 14px 20px;
            color: #c9cdd4;
            font-size: 14px;
            vertical-align: middle;
        }

        .data-table tbody td:first-child {
            font-weight: 600;
            color: #e4e6ea;
        }

        /* ‚îÄ‚îÄ Feature Cards Grid ‚îÄ‚îÄ */
        .phases-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
            gap: 18px;
            margin: 24px 0;
        }

        .phase-card {
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid rgba(52, 211, 153, 0.1);
            border-radius: 16px;
            padding: 24px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .phase-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(52, 211, 153, 0.05), transparent);
            transition: left 0.6s;
        }

        .phase-card:hover::before {
            left: 100%;
        }

        .phase-card:hover {
            background: rgba(52, 211, 153, 0.05);
            border-color: rgba(52, 211, 153, 0.3);
            box-shadow: 0 8px 25px rgba(52, 211, 153, 0.12);
            transform: translateY(-4px);
        }

        .phase-card .card-icon {
            font-size: 1.8rem;
            margin-bottom: 12px;
            display: block;
        }

        .phase-card h4 {
            color: #10b981;
            margin: 0 0 10px 0;
            font-size: 1.05rem;
            font-weight: 600;
        }

        .phase-card p {
            color: #9ca3af;
            font-size: 14px;
            margin: 0;
            line-height: 1.6;
        }

        /* ‚îÄ‚îÄ Footer ‚îÄ‚îÄ */
        .page-footer {
            margin-top: 60px;
            padding-top: 30px;
            border-top: 1px solid rgba(52, 211, 153, 0.1);
            text-align: center;
            color: #6b7280;
            font-size: 0.9rem;
        }

        /* ‚îÄ‚îÄ Scrollbar ‚îÄ‚îÄ */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #0d1117;
        }

        ::-webkit-scrollbar-thumb {
            background: #1f2937;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #374151;
        }

        @media (max-width: 1024px) {
            .content-container {
                grid-template-columns: 1fr;
            }

            .side-nav {
                display: none;
            }
        }
    </style>
</head>

<body>

    <div class="breadcrumb">
        <div class="breadcrumb-inner">
            <div class="breadcrumb-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                    <polyline points="9 22 9 12 15 12 15 22"></polyline>
                </svg>
            </div>
            <a href="index.html">Home</a>
            <span class="breadcrumb-sep"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="9 18 15 12 9 6"></polyline>
                </svg></span>
            <a href="wiki.html">Wiki</a>
            <span class="breadcrumb-sep"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="9 18 15 12 9 6"></polyline>
                </svg></span>
            <div class="breadcrumb-current">
                <div class="breadcrumb-current-dot"></div>
                Tax System
            </div>
        </div>
    </div>

    <div class="page-header">
        <h1>Tax System</h1>
        <p>Manage your factory taxes, understand rates, and avoid penalties.</p>
    </div>

    <div class="content-container">

        <!-- Sidebar Navigation -->
        <aside class="side-nav">
            <div class="nav-header">
                <div class="nav-header-top">
                    <div class="nav-title">
                        <div class="nav-title-icon">
                            <svg viewBox="0 0 24 24">
                                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                                <line x1="12" y1="8" x2="12" y2="16"></line>
                                <line x1="8" y1="12" x2="16" y2="12"></line>
                            </svg>
                        </div>
                        Contents
                    </div>
                    <div class="nav-section-count">5 Sections</div>
                </div>
                <div class="nav-progress-track">
                    <div class="nav-progress-fill" id="scrollProgress"></div>
                </div>
            </div>
            <ul class="nav-list">
                <li>
                    <a href="#overview" class="active">
                        <div class="nav-icon">üìã</div>
                        <span class="nav-label">Overview</span>
                    </a>
                </li>
                <li>
                    <a href="#calculation">
                        <div class="nav-icon">üßÆ</div>
                        <span class="nav-label">Tax Calculation</span>
                    </a>
                </li>
                <li>
                    <a href="#tax-center">
                        <div class="nav-icon">üèõÔ∏è</div>
                        <span class="nav-label">Tax Center GUI</span>
                    </a>
                </li>
                <li>
                    <a href="#payments">
                        <div class="nav-icon">üí≥</div>
                        <span class="nav-label">Payments & Penalties</span>
                    </a>
                </li>
                <li>
                    <a href="#configuration">
                        <div class="nav-icon">‚öôÔ∏è</div>
                        <span class="nav-label">Configuration</span>
                    </a>
                </li>
            </ul>
            <div class="nav-footer">
                <div class="nav-footer-icon">üí°</div>
                <div class="nav-footer-text">
                    <strong>Pro Tip</strong>
                    Pay taxes early to avoid late fees!
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">

            <!-- Overview Section -->
            <section id="overview" class="content-section">
                <div class="section-title">
                    <span class="section-badge">System</span>
                    <h2>Overview</h2>
                </div>
                <p>The <strong>Tax System</strong> in FactoryCore adds an economic balance to factory ownership. Players
                    are required to pay periodic taxes based on the value and level of their factories. This encourages
                    active management and prevents players from hoarding unused factories.</p>

                <div class="info-box">
                    <div class="info-box-title">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <circle cx="12" cy="12" r="10"></circle>
                            <line x1="12" y1="16" x2="12" y2="12"></line>
                            <line x1="12" y1="8" x2="12.01" y2="8"></line>
                        </svg>
                        Why Taxes?
                    </div>
                    <div class="info-box-content">
                        Taxes serve as a money sink in the economy and a maintenance cost for factory operations,
                        ensuring that high-level factories require sustained profitability to maintain.
                    </div>
                </div>
            </section>

            <!-- Calculation Section -->
            <section id="calculation" class="content-section">
                <div class="section-title">
                    <span class="section-badge">Mechanics</span>
                    <h2>Tax Calculation</h2>
                </div>
                <p>Taxes are calculated individually for each factory based on its base price and current level.
                    Higher-level factories incur higher tax rates.</p>

                <h3>Formula</h3>
                <pre><code>Tax = Factory Price √ó (Base Rate + (Level Multiplier √ó (Level - 1)))</code></pre>

                <h3>Variables</h3>
                <div class="table-wrapper">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Variable</th>
                                <th>Description</th>
                                <th>Default Value</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Base Rate</td>
                                <td>The starting tax percentage for a Level 1 factory.</td>
                                <td>5.0%</td>
                            </tr>
                            <tr>
                                <td>Level Multiplier</td>
                                <td>Additional percentage added per factory level (above level 1).</td>
                                <td>2.5%</td>
                            </tr>
                            <tr>
                                <td>Factory Price</td>
                                <td>The purchase cost of the factory type.</td>
                                <td>Varies</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h3>Example Calculation</h3>
                <p>Consider a factory with a base price of <strong>$10,000</strong> at <strong>Level 3</strong>.</p>
                <ul>
                    <li><strong>Base Rate:</strong> 5.0%</li>
                    <li><strong>Additional Rate:</strong> 2.5% √ó (3 - 1) = 5.0%</li>
                    <li><strong>Total Tax Rate:</strong> 5.0% + 5.0% = <strong>10.0%</strong></li>
                    <li><strong>Tax Amount:</strong> $10,000 √ó 10% = <strong>$1,000</strong></li>
                </ul>
            </section>

            <!-- Tax Center GUI Section -->
            <section id="tax-center" class="content-section">
                <div class="section-title">
                    <span class="section-badge">Interface</span>
                    <h2>Tax Center GUI</h2>
                </div>
                <p>The <strong>Tax Center</strong> is the central hub for managing all your tax obligations. It provides
                    a comprehensive overview of due taxes, payment history, and future assessments.</p>

                <div class="phases-grid">
                    <div class="phase-card">
                        <span class="card-icon">üìä</span>
                        <h4>Dashboard</h4>
                        <p>View total tax due, number of overdue taxes, and time remaining until the next tax assessment
                            run.</p>
                    </div>
                    <div class="phase-card">
                        <span class="card-icon">üèóÔ∏è</span>
                        <h4>Factory List</h4>
                        <p>Each factory you own is listed with its specific tax status, amount due, and next assessment
                            estimate.</p>
                    </div>
                    <div class="phase-card">
                        <span class="card-icon">üîÆ</span>
                        <h4>Tax Calculator</h4>
                        <p>A built-in tool that forecasts your upcoming tax liabilities broken down by factory type.</p>
                    </div>
                    <div class="phase-card">
                        <span class="card-icon">üìú</span>
                        <h4>History</h4>
                        <p>Keep track of your financial responsibility with a log of your last 5 tax payments.</p>
                    </div>
                </div>

                <h3>Status Indicators</h3>
                <p>Factories in the GUI are color-coded to indicate their status:</p>
                <ul>
                    <li><span style="color: #4ade80">‚óè Lime (Green)</span>: <strong>Good Standing</strong> - No tax
                        currently due.</li>
                    <li><span style="color: #facc15">‚óè Yellow</span>: <strong>Payment Due</strong> - A tax bill has been
                        issued but is not yet late.</li>
                    <li><span style="color: #f87171">‚óè Red</span>: <strong>Overdue</strong> - The payment deadline has
                        passed; penalties may apply.</li>
                </ul>
            </section>

            <!-- Payments & Penalties Section -->
            <section id="payments" class="content-section">
                <div class="section-title">
                    <span class="section-badge">Economy</span>
                    <h2>Payments & Penalties</h2>
                </div>
                <p>Staying on top of your taxes is crucial for smooth factory operations.</p>

                <h3>Making Payments</h3>
                <p>You can pay taxes directly through the Tax Center GUI:</p>
                <ol>
                    <li>Click on an individual factory to pay its specific tax.</li>
                    <li>Use the <strong>"Pay All Taxes"</strong> button (Gold Block) to settle all outstanding debts in
                        one click.</li>
                </ol>

                <div class="warn-box">
                    <div class="info-box-title">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <path
                                d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z">
                            </path>
                            <line x1="12" y1="9" x2="12" y2="13"></line>
                            <line x1="12" y1="17" x2="12.01" y2="17"></line>
                        </svg>
                        Late Fees
                    </div>
                    <div class="info-box-content">
                        If taxes are not paid within the configured due period (default <strong>7 days</strong>), the
                        status becomes <strong>Overdue</strong>. An automatic <strong>Late Fee</strong> (default 5%) is
                        added to the outstanding amount.
                    </div>
                </div>
            </section>

            <!-- Configuration Section -->
            <section id="configuration" class="content-section">
                <div class="section-title">
                    <span class="section-badge">Admin</span>
                    <h2>Configuration</h2>
                </div>
                <p>Server administrators can tweak the tax system to fit their economy balance in
                    <code>config.yml</code>.</p>

                <pre><code>tax:
  enabled: true
  rate: 5.0            # Base tax rate (%)
  level-multiplier: 2.5 # Extra rate per level (%)
  interval-ticks: 144000 # Assessment frequency (in ticks)
  due-days: 7          # Days before tax becomes overdue
  late-fee-rate: 5.0   # Penalty percentage for late payments</code></pre>
            </section>

        </main>
    </div>

    <footer class="page-footer">
        <p>FactoryCore Plugin &copy; 2026. All rights reserved.</p>
    </footer>

    <script>
        // Simple scroll spy for navigation
        const navLinks = document.querySelectorAll('.nav-list a');
        const sections = document.querySelectorAll('section');
        const scrollProgress = document.getElementById('scrollProgress');

        function onScroll() {
            let current = '';

            // Highlight active link
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionHeight = section.clientHeight;
                if (pageYOffset >= (sectionTop - 200)) {
                    current = section.getAttribute('id');
                }
            });

            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href').includes(current)) {
                    link.classList.add('active');
                }
            });

            // Update progress bar
            const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
            const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            const scrolled = (winScroll / height) * 100;
            scrollProgress.style.width = scrolled + "%";
        }

        window.addEventListener('scroll', onScroll);

        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });
    </script>
</body>

</html>